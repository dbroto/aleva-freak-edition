<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>üé§ Karao... ¬øQu√©?</title>
  <style>
    body {
      background-color: #111;
      color: #eee;
      font-family: 'Courier New', monospace;
      text-align: center;
      padding: 30px;
    }
    h1 {
      color: #ffcc00;
    }
    #fraseParcial {
      font-size: 1.5em;
      margin: 20px auto;
      max-width: 800px;
      line-height: 1.8;
    }
    #info {
      margin-top: 20px;
      font-size: 1.2em;
      color: #44ff44;
    }
    button {
      font-size: 1em;
      padding: 10px 20px;
      margin: 10px;
      background-color: #222;
      color: #ffcc00;
      border: 2px solid #ffcc00;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>üé§ Karao... ¬øQu√©?</h1>
  <div id="fraseParcial">Pulsa "Siguiente canci√≥n" para empezar</div>
  <div>
    <button onclick="siguienteFrase()">üéµ Siguiente canci√≥n</button>
    <button onclick="mostrarMas()">üïµÔ∏è Mostrar m√°s</button>
    <button onclick="mostrarCompleta()">üéØ Mostrar completa</button>
  </div>
  <div id="info"></div>

  <script>
    const frases = [
      {
        texto: "Me falta el aliento, me sobran los miedos, me muero por dentro.",
        cancion: "Por la Raja de Tu Falda",
        artista: "Estopa",
        a√±o: 1999
      },
      {
        texto: "Cuando t√∫ vas, yo vengo de all√≠, cuando yo voy, t√∫ todav√≠a est√°s aqu√≠.",
        cancion: "Cuando T√∫ Vas",
        artista: "Estopa",
        a√±o: 2001
      }
    ];

    let indiceActual = -1;
    let palabras = [];
    let mostradas = new Set();

    function siguienteFrase() {
      const nueva = Math.floor(Math.random() * frases.length);
      indiceActual = nueva;
      palabras = frases[indiceActual].texto.split(' ');
      mostradas = new Set();
      mostrarFrase();
      document.getElementById('info').textContent = '';
    }

    function mostrarMas() {
      if (indiceActual === -1) return;
      while (mostradas.size < palabras.length) {
        const i = Math.floor(Math.random() * palabras.length);
        if (!mostradas.has(i)) {
          mostradas.add(i);
          break;
        }
      }
      mostrarFrase();
    }

    function mostrarFrase() {
      const resultado = palabras.map((palabra, i) =>
        mostradas.has(i) ? palabra : "_____"
      ).join(' ');
      document.getElementById('fraseParcial').textContent = resultado;
    }

    function mostrarCompleta() {
      if (indiceActual === -1) return;
      document.getElementById('fraseParcial').textContent = frases[indiceActual].texto;
      const f = frases[indiceActual];
      document.getElementById('info').textContent = `üé∂ "${f.cancion}" - ${f.artista} (${f.a√±o})`;
    }
  </script>
</body>
</html>
